# üìã ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Unit Tests - Pill Line AI

## üìñ ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

1. [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö](#‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
2. [‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Tester](#‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö-tester)
3. [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£](#‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£)
4. [‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Test](#‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå-test)
5. [‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö](#‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
6. [‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Test](#‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô-test)
7. [Mock Generation](#mock-generation)
8. [‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå](#‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå)
9. [‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•](#‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•)
10. [‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤](#‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤)
11. [Best Practices](#best-practices)
12. [‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)

---

## üéØ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå

- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡πâ‡∏î
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏¥‡∏î bug ‡πÉ‡∏´‡∏°‡πà
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ deploy
- ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î

### ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏î‡∏™‡∏≠‡∏ö

- **Entities** - ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- **Repositories** - ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- **Controllers** - ‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- **BLoCs** - ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ state

---

## üë®‚Äçüíª ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Tester

### üìã ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°

#### 1. ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô

- **Flutter SDK** (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå)
- **Git** (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á clone repository)
- **Terminal/Command Prompt**

#### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Flutter

```bash
flutter --version
flutter doctor
```

### üöÄ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Tester

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏î‡∏∂‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

```bash
# ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Git
git clone [repository-url]
cd pill_line_a_i

# ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå zip
# ‡πÅ‡∏ï‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î terminal ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies

```bash
flutter pub get
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏™‡∏£‡πâ‡∏≤‡∏á Mock Files

```bash
flutter pub run build_runner build
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏£‡∏±‡∏ô Test

```bash
flutter test
```

### üìä ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Tester

#### ‚úÖ Test ‡∏ú‡πà‡∏≤‡∏ô

```
‚úì VideoStreamEntity should create VideoStreamEntity with default values
‚úì VideoStreamController openVideoDialog should set showVideoDialog to true
‚úì ExNotData should create ExNotData with correct properties
00:03 +3: All tests passed!
```

**‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°:** ‡∏ó‡∏∏‡∏Å test ‡∏ú‡πà‡∏≤‡∏ô ‚úÖ

#### ‚ùå Test ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß

```
‚úó VideoStreamController initial state should be correct
  Expected: true
    Actual: false
00:01 +2 -1: Some tests failed.
```

**‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°:** ‡∏°‡∏µ test ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß 1 ‡∏ï‡∏±‡∏ß ‚ùå

#### ‚ö†Ô∏è Test ‡∏°‡∏µ Error

```
LateInitializationError: Field '_animationController' has not been initialized.
  at VideoStreamController.dispose (video_stream_controller.dart:310:5)
```

**‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°:** ‡∏°‡∏µ error ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô test ‚ö†Ô∏è

### üîç ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô

#### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Feature

```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö ex_notdata feature
flutter test test/features/ex_notdata/

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö video_stream feature
flutter test test/features/video_stream/
```

#### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå

```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö entity
flutter test test/features/ex_notdata/ex_notdata_entity_test.dart

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö controller
flutter test test/features/video_stream/video_stream_controller_test.dart
```

#### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö Verbose

```bash
flutter test --verbose
```

### üìù ‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Tester

#### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô

##### 1. ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```
‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: X tests
‚ùå ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: Y tests
‚ö†Ô∏è Error: Z tests
‡∏£‡∏ß‡∏°: X+Y+Z tests
```

##### 2. ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Test ‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß

```
Test: [‡∏ä‡∏∑‡πà‡∏≠ test]
File: [‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß]
Error: [‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error]
Expected: [‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á]
Actual: [‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á]
```

##### 3. ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°

```
Flutter Version: [‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô]
OS: [‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£]
Date: [‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏î‡∏™‡∏≠‡∏ö]
```

### üìã Checklist ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Tester

#### ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö

- [ ] ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Flutter SDK
- [ ] ‡∏î‡∏∂‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡πÄ‡∏õ‡∏¥‡∏î terminal ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
- [ ] ‡∏£‡∏±‡∏ô `flutter doctor` ‡∏ú‡πà‡∏≤‡∏ô

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

- [ ] ‡∏£‡∏±‡∏ô `flutter pub get`
- [ ] ‡∏£‡∏±‡∏ô `flutter pub run build_runner build`
- [ ] ‡∏£‡∏±‡∏ô `flutter test`
- [ ] ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

#### ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

- [ ] ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
- [ ] ‡πÅ‡∏à‡πâ‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
- [ ] ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î

---

## üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏≤‡∏£

### Prerequisites

- Flutter SDK installed
- Dart SDK installed
- IDE with Flutter support (VS Code, Android Studio, etc.)

### 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Dependencies

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `pubspec.yaml` ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ dependencies ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:

```yaml
dev_dependencies:
  flutter_test:
    sdk: flutter
  mockito: ^5.4.4
  bloc_test: ^9.1.5
  build_runner: ^2.4.8
```

### 2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies

```bash
flutter pub get
```

### 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Mock Files (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!)

```bash
flutter pub run build_runner build
```

---

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Test

```
test/
‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îú‚îÄ‚îÄ ex_notdata/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ex_notdata_entity_test.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ex_notdata_bloc_test.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ex_notdata_controller_test.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ex_notdata_repository_impl_test.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ex_notdata_bloc_test.mocks.dart (auto-generated)
‚îÇ   ‚îî‚îÄ‚îÄ video_stream/
‚îÇ       ‚îú‚îÄ‚îÄ video_stream_entity_test.dart
‚îÇ       ‚îú‚îÄ‚îÄ video_stream_controller_test.dart
‚îÇ       ‚îî‚îÄ‚îÄ video_stream_controller_test.mocks.dart (auto-generated)
‚îú‚îÄ‚îÄ widget_test.dart
‚îî‚îÄ‚îÄ README.md
```

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå:

- **`*_entity_test.dart`** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- **`*_bloc_test.dart`** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ state
- **`*_controller_test.dart`** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö business logic
- **`*_repository_impl_test.dart`** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- **`*.mocks.dart`** - Mock objects (‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)

### Test File Naming Convention

- `*_test.dart` - Test files
- `*_test.mocks.dart` - Auto-generated mock files (don't edit)

---

## üß™ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### 1. Entity Tests

‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞ properties

```dart
import 'package:flutter_test/flutter_test.dart';
import 'package:pill_line_a_i/features/ex_notdata/domain/entities/ex_notdata.dart';

void main() {
  group('ExNotData Entity', () {
    test('should create ExNotData instance', () {
      // Arrange
      const message = 'test_message';
      const type = 'test_type';
      const details = {'key': 'value'};

      // Act
      final exNotData = ExNotData(
        message: message,
        type: type,
        details: details,
      );

      // Assert
      expect(exNotData.message, equals(message));
      expect(exNotData.type, equals(type));
      expect(exNotData.details, equals(details));
    });

    test('should support equality', () {
      // Arrange
      const exNotData1 = ExNotData(
        message: 'test',
        type: 'type',
        details: {'key': 'value'},
      );
      const exNotData2 = ExNotData(
        message: 'test',
        type: 'type',
        details: {'key': 'value'},
      );
      const exNotData3 = ExNotData(
        message: 'different',
        type: 'type',
        details: {'key': 'value'},
      );

      // Assert
      expect(exNotData1, equals(exNotData2));
      expect(exNotData1, isNot(equals(exNotData3)));
    });
  });
}
```

### 2. Repository Tests

‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞ error handling

```dart
test('should return data when successful', () async {
  when(mockDataSource.getData()).thenAnswer((_) async => testData);
  final result = await repository.getData();
  expect(result, Right(testData));
});
```

### 3. Controller Tests

‡∏ó‡∏î‡∏™‡∏≠‡∏ö business logic ‡πÅ‡∏•‡∏∞ UI state

```dart
import 'package:flutter_test/flutter_test.dart';
import 'package:mockito/mockito.dart';
import 'package:mockito/annotations.dart';
import 'package:pill_line_a_i/features/ex_notdata/presentation/controllers/ex_notdata_controller.dart';
import 'package:pill_line_a_i/features/ex_notdata/domain/repositories/ex_notdata_repository.dart';

@GenerateMocks([ExNotDataRepository])
void main() {
  group('ExNotDataController', () {
    late MockExNotDataRepository mockRepository;
    late ExNotDataController controller;

    setUp(() {
      mockRepository = MockExNotDataRepository();
      controller = ExNotDataController(repository: mockRepository);
    });

    tearDown(() {
      controller.dispose();
    });

    test('should initialize WebSocket connection', () async {
      // Arrange
      when(mockRepository.initializeWebSocket())
          .thenAnswer((_) async => true);

      // Act
      await controller.initialize();

      // Assert
      verify(mockRepository.initializeWebSocket()).called(1);
      expect(controller.isConnected, isTrue);
    });
  });
}
```

### 4. BLoC Tests

‡∏ó‡∏î‡∏™‡∏≠‡∏ö state transitions ‡πÅ‡∏•‡∏∞ event handling

```dart
import 'package:bloc_test/bloc_test.dart';
import 'package:flutter_test/flutter_test.dart';
import 'package:mockito/mockito.dart';
import 'package:mockito/annotations.dart';
import 'package:pill_line_a_i/features/ex_notdata/presentation/bloc/ex_notdata_bloc.dart';
import 'package:pill_line_a_i/features/ex_notdata/domain/repositories/ex_notdata_repository.dart';

@GenerateMocks([ExNotDataRepository])
void main() {
  group('ExNotDataBloc', () {
    late MockExNotDataRepository mockRepository;
    late ExNotDataBloc bloc;

    setUp(() {
      mockRepository = MockExNotDataRepository();
      bloc = ExNotDataBloc(repository: mockRepository);
    });

    tearDown(() {
      bloc.close();
    });

    test('initial state should be ExNotDataInitial', () {
      expect(bloc.state, isA<ExNotDataInitial>());
    });

    blocTest<ExNotDataBloc, ExNotDataState>(
      'emits [ExNotDataLoading, ExNotDataLoaded] when LoadExNotData is successful',
      build: () {
        when(mockRepository.getExNotData())
            .thenAnswer((_) async => Right(testData));
        return bloc;
      },
      act: (bloc) => bloc.add(LoadExNotData()),
      expect: () => [
        isA<ExNotDataLoading>(),
        isA<ExNotDataLoaded>(),
      ],
    );

    blocTest<ExNotDataBloc, ExNotDataState>(
      'emits [ExNotDataLoading, ExNotDataError] when LoadExNotData fails',
      build: () {
        when(mockRepository.getExNotData())
            .thenThrow(Exception('Network error'));
        return bloc;
      },
      act: (bloc) => bloc.add(LoadExNotData()),
      expect: () => [
        isA<ExNotDataLoading>(),
        isA<ExNotDataError>(),
      ],
    );
  });
}
```

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Test

### Basic Commands

```bash
# ‡∏£‡∏±‡∏ô test ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
flutter test

# ‡∏£‡∏±‡∏ô test ‡πÅ‡∏ö‡∏ö watch mode (auto-rerun on changes)
flutter test --watch

# ‡∏£‡∏±‡∏ô test ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå
flutter test test/features/ex_notdata/ex_notdata_bloc_test.dart

# ‡∏£‡∏±‡∏ô test ‡∏û‡∏£‡πâ‡∏≠‡∏° coverage
flutter test --coverage
```

### ‡∏£‡∏±‡∏ô Test ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Feature

```bash
flutter test test/features/ex_notdata/
flutter test test/features/video_stream/
```

### Using Test Scripts (Windows)

```bash
# ‡∏£‡∏±‡∏ô test runner script
scripts/test.bat
```

### Using VS Code

1. Install the "Flutter" extension
2. Open test file
3. Click "Run Test" above test functions
4. Or use Command Palette: `Flutter: Run All Tests`

---

## üîÑ Mock Generation

### ‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Mock Files**

**‚ùå ‡∏≠‡∏¢‡πà‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á mock files ‡πÄ‡∏≠‡∏á**

```dart
// ‡∏≠‡∏¢‡πà‡∏≤‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ
class MockExNotDataRepository extends Mock implements ExNotDataRepository {}
```

**‚úÖ ‡πÉ‡∏ä‡πâ Build Runner**

```dart
// ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå test
import 'package:mockito/annotations.dart';
import 'package:mockito/mockito.dart';

@GenerateMocks([ExNotDataRepository])
void main() {
  // Build Runner ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á MockExNotDataRepository ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
}
```

### Build Runner Commands

```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á mocks ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
flutter pub run build_runner build

# ‡∏™‡∏£‡πâ‡∏≤‡∏á mocks ‡πÅ‡∏ö‡∏ö watch mode (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤)
flutter pub run build_runner watch

# ‡∏•‡∏ö mocks ‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà
flutter pub run build_runner clean
flutter pub run build_runner build

# Force rebuild (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤)
flutter pub run build_runner build --delete-conflicting-outputs
```

### ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Ñ‡∏ß‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Mocks ‡πÉ‡∏´‡∏°‡πà

- ‚úÖ ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏° class ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô `@GenerateMocks`
- ‚úÖ ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô class signatures
- ‚úÖ ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏° dependencies ‡πÉ‡∏´‡∏°‡πà
- ‚úÖ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠ error "Mock not found"

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ

#### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Mock class not found"

```bash
# ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ: ‡∏™‡∏£‡πâ‡∏≤‡∏á mocks ‡πÉ‡∏´‡∏°‡πà
flutter pub run build_runner build
```

#### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Conflicting outputs"

```bash
# ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ: Force rebuild
flutter pub run build_runner build --delete-conflicting-outputs
```

#### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Old mock files"

```bash
# ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ: ‡∏•‡∏ö‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà
flutter pub run build_runner clean
flutter pub run build_runner build
```

---

## üìä ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô (Success)

```
‚úì VideoStreamEntity should create VideoStreamEntity with default values
‚úì VideoStreamController openVideoDialog should set showVideoDialog to true
00:02 +2: All tests passed!
```

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß (Failure)

```
‚úó VideoStreamController initial state should be correct
  Expected: true
    Actual: false
00:01 +1 -1: Some tests failed.
```

### ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô Error Messages

```
LateInitializationError: Field '_animationController' has not been initialized.
  at VideoStreamController.dispose (video_stream_controller.dart:310:5)
```

**‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢:**

- `LateInitializationError` - ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® `late` ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å initialize
- `video_stream_controller.dart:310:5` - ‡πÑ‡∏ü‡∏•‡πå:‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î:‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå
- `VideoStreamController.dispose` - method ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤

---

## üìù ‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Developer

#### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô

##### 1. ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```
‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: X tests
‚ùå ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: Y tests
‚ö†Ô∏è Error: Z tests
‡∏£‡∏ß‡∏°: X+Y+Z tests
```

##### 2. ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Test ‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß

```
Test: [‡∏ä‡∏∑‡πà‡∏≠ test]
File: [‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß]
Error: [‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error]
Expected: [‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á]
Actual: [‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á]
```

##### 3. ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°

```
Flutter Version: [‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô]
OS: [‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£]
Date: [‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏î‡∏™‡∏≠‡∏ö]
```

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Tester

#### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô

##### 1. ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```
‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: X tests
‚ùå ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: Y tests
‚ö†Ô∏è Error: Z tests
‡∏£‡∏ß‡∏°: X+Y+Z tests
```

##### 2. ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Test ‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß

```
Test: [‡∏ä‡∏∑‡πà‡∏≠ test]
File: [‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß]
Error: [‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error]
Expected: [‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á]
Actual: [‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á]
```

##### 3. ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°

```
Flutter Version: [‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô]
OS: [‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£]
Date: [‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏î‡∏™‡∏≠‡∏ö]
```

---

## üîß ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

#### 1. Mock Files ‡πÑ‡∏°‡πà‡∏°‡∏µ

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** `Target of URI doesn't exist: '*.mocks.dart'`

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```bash
flutter pub run build_runner build
```

#### 2. LateInitializationError

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** `Field '_field' has not been initialized`

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å `late` ‡πÄ‡∏õ‡πá‡∏ô nullable
- ‡πÄ‡∏û‡∏¥‡πà‡∏° null check ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

#### 3. Test Timeout

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** `Test timed out after 30 seconds`

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```dart
test('should complete within 5 seconds', () async {
  // test code
}, timeout: Timeout(Duration(seconds: 5)));
```

#### 4. Mock Verification Failed

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** `No matching calls. All calls: []`

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ mock ‡∏ñ‡∏π‡∏Å setup ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö method signature

#### 5. Build Runner conflicts

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** `Conflicting outputs`

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

### Performance Tips

- ‡πÉ‡∏ä‡πâ `flutter test --coverage` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö test coverage
- ‡∏£‡∏±‡∏ô tests ‡πÅ‡∏ö‡∏ö parallel: `flutter test --concurrency=4`
- ‡πÉ‡∏ä‡πâ `--reporter=compact` ‡πÄ‡∏û‡∏∑‡πà‡∏≠ output ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô

### Debugging Tests

```bash
# ‡∏£‡∏±‡∏ô‡πÅ‡∏ö‡∏ö verbose
flutter test --verbose

# ‡∏£‡∏±‡∏ô test ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏° debug info
flutter test test/features/ex_notdata/ex_notdata_bloc_test.dart --verbose
```

---

## üìã Best Practices

### 1. Test Organization

- ‡πÉ‡∏ä‡πâ `group()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏° tests ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
- ‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠ test ‡∏ó‡∏µ‡πà‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÑ‡∏î‡πâ
- ‡πÉ‡∏ä‡πâ AAA pattern (Arrange, Act, Assert)

### 2. Mock Usage

- ‡πÉ‡∏ä‡πâ `@GenerateMocks` annotation ‡πÄ‡∏™‡∏°‡∏≠
- ‡∏≠‡∏¢‡πà‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á mock classes ‡πÄ‡∏≠‡∏á
- ‡πÉ‡∏ä‡πâ `when()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î mock behavior
- ‡πÉ‡∏ä‡πâ `verify()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö mock interactions

### 3. Test Data

- ‡πÉ‡∏ä‡πâ constants ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö test data
- ‡∏™‡∏£‡πâ‡∏≤‡∏á factory methods ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö objects ‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô
- ‡πÉ‡∏ä‡πâ `setUp()` ‡πÅ‡∏•‡∏∞ `tearDown()` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö setup ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô

### 4. Assertions

- ‡πÉ‡∏ä‡πâ specific matchers (`equals`, `isA`, `isTrue`)
- ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á positive ‡πÅ‡∏•‡∏∞ negative cases
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö error handling

---

## üìö ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Test ‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå

```dart
import 'package:bloc_test/bloc_test.dart';
import 'package:flutter_test/flutter_test.dart';
import 'package:mockito/mockito.dart';
import 'package:mockito/annotations.dart';
import 'package:pill_line_a_i/features/ex_notdata/presentation/bloc/ex_notdata_bloc.dart';
import 'package:pill_line_a_i/features/ex_notdata/domain/repositories/ex_notdata_repository.dart';

@GenerateMocks([ExNotDataRepository])
void main() {
  group('ExNotDataBloc', () {
    late MockExNotDataRepository mockRepository;
    late ExNotDataBloc bloc;

    setUp(() {
      mockRepository = MockExNotDataRepository();
      bloc = ExNotDataBloc(repository: mockRepository);
    });

    tearDown(() {
      bloc.close();
    });

    test('initial state should be ExNotDataInitial', () {
      expect(bloc.state, isA<ExNotDataInitial>());
    });

    blocTest<ExNotDataBloc, ExNotDataState>(
      'emits [ExNotDataLoading, ExNotDataLoaded] when LoadExNotData is successful',
      build: () {
        when(mockRepository.getExNotData())
            .thenAnswer((_) async => Right(testData));
        return bloc;
      },
      act: (bloc) => bloc.add(LoadExNotData()),
      expect: () => [
        isA<ExNotDataLoading>(),
        isA<ExNotDataLoaded>(),
      ],
    );

    blocTest<ExNotDataBloc, ExNotDataState>(
      'emits [ExNotDataLoading, ExNotDataError] when LoadExNotData fails',
      build: () {
        when(mockRepository.getExNotData())
            .thenThrow(Exception('Network error'));
        return bloc;
      },
      act: (bloc) => bloc.add(LoadExNotData()),
      expect: () => [
        isA<ExNotDataLoading>(),
        isA<ExNotDataError>(),
      ],
    );
  });
}
```

---

## üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

- [Flutter Testing Documentation](https://docs.flutter.dev/testing)
- [Bloc Testing Documentation](https://bloclibrary.dev/#/testing)
- [Mockito Documentation](https://pub.dev/packages/mockito)
- [Build Runner Documentation](https://pub.dev/packages/build_runner)

---

## üìû ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠

### ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠:

1. **‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£** ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô
2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Troubleshooting Guide** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢
3. **‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á:

```
Error: [Error message]
File: [file path:line:column]
Test: [test file name]
Steps: [steps taken]
Environment: [Flutter version, OS]
```

---

## üéâ ‡∏™‡∏£‡∏∏‡∏õ

‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì:

- ‚úÖ ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Unit Tests
- ‚úÖ ‡∏£‡∏±‡∏ô test ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- ‚úÖ ‡∏û‡∏±‡∏í‡∏ô‡∏≤ test ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ
- ‚úÖ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

**‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ [Quick Start Guide](./QUICK_START.md) ‡πÄ‡∏•‡∏¢!**
